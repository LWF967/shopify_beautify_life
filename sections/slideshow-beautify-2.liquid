
{% assign customerId = customer.id %}


<section>
  <div class="feature-artworks">
    <h1>{{section.settings.feature_title}}</h1>
    <p class="btn-link"><a href="{{section.settings.button_link}}">{{ section.settings.link-name }}</a></p>
    <!--    左箭头    -->
      <div class="icon-changebtn leftbtn">
      	<p class="navmenu-icon navmenu-icon-depth-1 openbtn" data-navmenu-trigger="" style="height:14px;">
            <svg aria-hidden="true" focusable="false" role="presentation" width="20" height="16" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class="icon-chevron-down-left" d="M4 4.5L7 1.5" stroke="currentColor" stroke-width="0.75" stroke-linecap="square"></path>
                <path class="icon-chevron-down-right" d="M4 4.5L7 7.5" stroke="currentColor" stroke-width="0.75" stroke-linecap="square"></path>
            </svg>
        </p>
      </div>
<!--    右箭头    -->
      <div class="icon-changebtn rightbtn">
      	<p class="navmenu-icon navmenu-icon-depth-1 openbtn" data-navmenu-trigger="" style="height:14px;">
          	<svg aria-hidden="true" focusable="false" role="presentation" width="20" height="16" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path class="icon-chevron-down-left" d="M4 4.5L1 7.5" stroke="currentColor" stroke-width="0.75" stroke-linecap="square"></path>
              <path class="icon-chevron-down-right" d="M4 4.5L1 1.5" stroke="currentColor" stroke-width="0.75" stroke-linecap="square"></path>
          	</svg>
        </p>
      </div>
    <div class="big-box">
      <div class="product-box">
      
    	{% for block in section.blocks %}

 			 <div class="slideshow_content">
              <a class="product_self-link" href="{{ block.settings.featured_product.url }}"></a>
              <div class="artworks-box" style="background-image: url({{ block.settings.featured_product | img_url: '190x' }});">
              </div>
              
              <p class="artworks-title">{{ block.settings.featured_product.title | truncate: 25, '...' }}</p>
              <p class="artworks-type" style="font-size:12px;font-weight:200;color:rgb(198,198,198)">{{ block.settings.featured_product.type | append: " by " | append: block.settings.featured_product.vendor }}</p>
              
              <div class="wk_like_btn" style="cursor:pointer; display:none; padding:5px; clear:both;">
                   <a>
                       <i class="fa fa-heart-o" id="wk_icon" data-like="" data-total_count="" aria-hidden="true"></i>
                   </a>
                   <input type="hidden" class="customerid" value="{{ customer.id }}">
                   <input type="hidden" class="productid" value="{{ block.settings.featured_product.id }}" data-vid="">
              </div>
              
              <p class="artworks-price" style="margin-top:10px !important;font-weight:bold;">{{ block.settings.featured_product.price | money }}</p>
         	</div> 
        
    	{% endfor %}   
       
      </div>
    </div>
  	
  </div>
</section>



{% schema %}
  {
    "name": "Slideshow Beautify2",
	"max_blocks": 10,
    "settings": [
		{
			"type":"text",
			"id":"feature_title",
			"label":"feature_title",
			"default":"title name"
		},
		{
			"type":"text",
			"id":"link-name",
			"label":"link-title",
			"default":"View all"
		},{
            "type": "url",
            "id": "button_link",
            "label": "Button link"
        }
	],
	"blocks": [
		{
            "type": "category",
            "name": "Category",
			
            "settings": [
			{
                  "type": "product",
                  "id": "featured_product",
                  "label": "Featured product"
            }
          ]
        }
       
	],
	"presets": [
		{
            "name": "Slideshow2",
            "category": "III. Image"
        }
	]
  }
{% endschema %}

<style>
  section{
  	width:100%;
  }
  .feature-artworks{
/*   	max-width: 73.225rem; */
    max-width: 100%;
    margin:0 auto;
    padding: 20px .9375rem 40px;
    display:flex;
    justify-content:space-between;
    flex-wrap:wrap;
    position:relative;
  }
  .btn-link{
  	text-decoration:underline;
  }
  .big-box{
  	width:100%;
    overflow:hidden;
    box-sizing:border-box;
    padding:2px;
  }
  .product-box{
  	width:100%;
    display: -webkit-box;
    position:relative;
  }

  .productitem--image-link{height:185px;position:relative;}
  .productitem--image{position:absolute;top:50%;transform:translateY(-50%);}
  .productitem--image img{max-height:185px}
  .productitem{
  	padding:.6875rem;
    border:none;
    box-shadow:none;
  }
  .productitem--title{
  	overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .productitem--price{
  	display:flex;
    align-items:center;
  }
  .productitem--actions{
  	width:100%;
    margin:0;
    flex-wrap:nowrap;
    align-items:stretch;
    right:0;
    bottom:0;
  }
  .slideshow_content{
    width:100%;
  	position:relative;
    box-shadow: 0px 0px 5px 1px #e3e3e3;
    margin-right:2%;
    box-sizing:border-box;
    padding:10px;
    border-radius:5px;
  }
  
  .product_self-link{
  	display:block;
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0;
  }
  .artworks-box{
    width:100%;
    height:190px;
    margin: 0 auto 10px;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
  }
  .artworks-box img{
  	width:100%;
    
  }
  .slideshow_content p{
    margin:0 !important;
    font-family: serif;
  }
  .icon-changebtn{
  	width:40px;
    height:40px;
    text-align:center;
    box-shadow: 0 0 0 1px rgb(127 127 127 / 5%), 0 2px 5px rgb(127 127 127 / 50%);
    cursor:pointer;
    background-color:rgba(255,255,255,.5);
    color:rgb(183,183,183);
  }
  .icon-changebtn:hover{
    background-color:rgba(255,255,255,1);
  	box-shadow: 0px 0px 8px 1px #e3e3e3;
    color:rgb(35,35,35);
  }
  .leftbtn{
  	position:absolute;
    top:50%;
    left:-2px;
    transform:translateY(-50%);
    z-index:999;
    border-radius:50%;
  }
  .rightbtn{
  	position:absolute;
    top:50%;
    right:-5px;
    transform:translateY(-50%);
    z-index:999;    
    border-radius:50%;
  }
  .icon-changebtn p{
  	margin:0;
    height:100% !important;
    position:relative;
  }
  .leftbtn p svg{
  	position:absolute;
    top:50%;
    left:50%;
    transform:translate(-62.5%,-50%);
  }
  .rightbtn p svg{
  	position:absolute;
    top:50%;
    left:50%;
    transform:translate(-25%,-50%);
  }
  
  @media screen and (max-width:1024px){
    .big-box{
    	overflow-x:scroll;
    }
    .productitem--actions{
      display:none;
    }
    .icon-changebtn{
    	display:none;
    }
  }
  @media screen and (min-width:541px) and (max-width:768px){
    .big-box{
    	overflow-x:scroll;
    }
    .productgrid--item{
      width:23.5%;
    }
  }
  @media screen and (max-width:540px){
  	.productgrid--item{
      width:48%;
      margin-right:4%;
    }
    
  }
  
  
</style>

{% stylesheet %}
{% endstylesheet %}
<script>
//   contentbox->盒子框可视内容宽度  mardiff->把margin的2%的值算出 diff->总内容宽度减去可视宽度，所剩余的宽度
var contentbox=document.querySelector(".product-box");
var leftbtn=document.querySelector(".leftbtn");
var rightbtn=document.querySelector(".rightbtn");
var mardiff=contentbox.clientWidth*0.02;;
// var diff=contentbox.scrollWidth-contentbox.clientWidth;
 
 var diff_box = contentbox.scrollWidth; 
 var diff=contentbox.clientWidth; 
  
var itemlist=document.querySelectorAll(".slideshow_content");
var itemLength  = itemlist.length;
  
var btnbox=document.querySelectorAll(".productitem--actions");
var i=1;
  


//     for(let i=0;i<itemlist.length;i++){
      
//   	var x = i*diff*-1;
// //      itemlist[i].style.transform="translate(" + x  + "px" + ")"; 
//       console.log(diff);
//     }
  

  	  rightbtn.addEventListener("click",function(){
		
        contentbox.style.transform="translate(" + -diff  + "px" + ")";
         i++;
		diff = i*diff ;
        contentbox.style.transition="all 1.5s";
  })
      
  leftbtn.addEventListener("click",function(){
  
    	contentbox.style.transform="translate(" + 0 + "px" + ")";
        contentbox.style.transition="all 1.5s";
    
  })

  
  

  
</script>

