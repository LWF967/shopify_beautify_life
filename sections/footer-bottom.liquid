{% comment %}theme-check-disable UndefinedObject{% endcomment %}
{{ 'section-footer.css' | asset_url | stylesheet_tag }}
<link rel="stylesheet" href="{{ 'component-newsletter.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-menu.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-payment.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-social.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-rte.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'disclosure.css' | asset_url }}" media="print" onload="this.media='all'">

<noscript>{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-menu.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-payment.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-social.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-rte.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'disclosure.css' | asset_url | stylesheet_tag }}</noscript>

<style>
  .my_footer_bottom_margin_top {
  	margin-top: 0;
  }
  .my_footer_bottom_padding {
  	padding: 16px 0;
  }
</style>

<footer class="footer color-{{ section.settings.color_scheme }} gradient">
  <div class="footer__content-bottom my_footer_bottom_padding">
    <div class="footer__content-bottom-wrapper page-width">
      <div class="footer__column footer__column--info">
        {%- if section.settings.payment_enable -%}
          <div class="footer__payment">
            <span class="visually-hidden">{{ 'sections.footer.payment' | t }}</span>
            <ul class="list list-payment" role="list">
              {%- for type in shop.enabled_payment_types -%}
                <li class="list-payment__item">
                  {{ type | payment_type_svg_tag: class: 'icon icon--full-color' }}
                </li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}
        <div class="footer__copyright caption my_footer_bottom_margin_top">
          <small class="copyright__content">&copy; {{ 'now' | date: "%Y" }}, {{ shop.name | link_to: routes.root_url }}</small>
          <small class="copyright__content">{{ powered_by_link }}</small>
        </div>
      </div>
    </div>
  </div>
</footer>

{% javascript %}
  class LocalizationForm extends HTMLElement {
    constructor() {
      super();
      this.elements = {
        input: this.querySelector('input[name="locale_code"], input[name="country_code"]'),
        button: this.querySelector('button'),
        panel: this.querySelector('ul'),
      };
      this.elements.button.addEventListener('click', this.openSelector.bind(this));
      this.elements.button.addEventListener('focusout', this.closeSelector.bind(this));
      this.addEventListener('keyup', this.onContainerKeyUp.bind(this));

      this.querySelectorAll('a').forEach(item => item.addEventListener('click', this.onItemClick.bind(this)));
    }

    hidePanel() {
      this.elements.button.setAttribute('aria-expanded', 'false');
      this.elements.panel.setAttribute('hidden', true);
    }

    onContainerKeyUp(event) {
      if (event.code.toUpperCase() !== 'ESCAPE') return;

      this.hidePanel();
      this.elements.button.focus();
    }

    onItemClick(event) {
      event.preventDefault();
      const form = this.querySelector('form');
      this.elements.input.value = event.currentTarget.dataset.value;
      if (form) form.submit();
    }

    openSelector() {
      this.elements.button.focus();
      this.elements.panel.toggleAttribute('hidden');
      this.elements.button.setAttribute('aria-expanded', (this.elements.button.getAttribute('aria-expanded') === 'false').toString());
    }

    closeSelector(event) {
      const shouldClose = event.relatedTarget && event.relatedTarget.nodeName === 'BUTTON';
      if (event.relatedTarget === null || shouldClose) {
        this.hidePanel();
      }
    }
  }

  customElements.define('localization-form', LocalizationForm);
{% endjavascript %}

{% schema %}
{
  "name": "Footer Bottom",
  "max_blocks": 2,
  "blocks": [
    {
      "type": "copyright",
      "name": "Copyrights",
      "settings": [
        {
          "type": "html",
          "id": "copyrights_text",
          "default": "Â© 2021, giraffly2 Powered by Shopify",
          "label": "Copyrights"
        }
      ]
    },
	{
      "type": "payment",
      "name": "Payment",
      "settings": [
		{
          "type": "select",
          "id": "source_img",
          "options": [
			{
              "value": "Image",
              "label": "Image"
            },
            {
              "value": "SVG",
              "label": "SVG"
            }
          ],
          "default": "Image",
          "label": "Source IMG"
        },
        {
          "type": "header",
          "content": "image"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Trust image"
        },
		{
          "type": "range",
          "id": "iamge_height",
          "label": "Height",
          "default": 40,
          "min": 20,
          "max": 60,
          "step": 1
		},
        {
          "type": "header",
          "content": "svg"
        },
        {
          "type": "textarea",
          "id": "svg_list",
          "label": "SVG list",
		  "default": "amazon_payments,american_express,apple_pay,bitcoin,dankort,diners_club,discover,dogecoin,dwolla,forbrugsforeningen,interac,google_pay,jcb,klarna,klarna-pay-later,litecoin,maestro,master,paypal,shopify_pay,sofort,visa",
		  "info": "amazon_payments,american_express,apple_pay,bitcoin,dankort,diners_club,discover,dogecoin,dwolla,forbrugsforeningen,interac,google_pay,jcb,klarna,klarna-pay-later,litecoin,maestro,master,paypal,shopify_pay,sofort,visa"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "select",
      "id": "copyrights_layouts",
      "options": [
        {
          "value": "Centered",
          "label": "Centered"
        },
        {
          "value": "Two columns",
          "label": "Two columns"
        }
      ],
      "default": "Two columns",
      "label": "Copyrights layouts"
    },
	{
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#FFFFFF"
    },
	{
      "type": "color",
      "id": "copyrights_text_color",
      "label": "Copyrights text",
      "default": "#797979"
    },
	{
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#797979"
    },
	{
      "type": "color",
      "id": "link_color",
      "label": "Link",
      "default": "#F2F2F2"
    }
  ]
}
{% endschema %}
