{% comment %}theme-check-disable UndefinedObject{% endcomment %}
{{ 'section-footer.css' | asset_url | stylesheet_tag }}
<link rel="stylesheet" href="{{ 'component-newsletter.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-menu.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-payment.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-list-social.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-rte.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'disclosure.css' | asset_url }}" media="print" onload="this.media='all'">

<noscript>{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-menu.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-payment.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-list-social.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-rte.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'disclosure.css' | asset_url | stylesheet_tag }}</noscript>

{%- style -%}
.my_footer_bottom_color { background: {{ section.settings.background_color }}; }
.copyright__content { color: {{ section.settings.text_color }}; }
.copyright__content a { color: {{ section.settings.link_color }}; text-decoration: none; cursor: pointer; transition: all .3s; } 
.copyright__content a:hover { color: {{ section.settings.link_hover_color }}; text-decoration: none; }
{%- endstyle -%}

<style>
  .my_footer_bottom_margin_top {
  	margin-top: 0;
  }
  .my_footer_bottom_padding {
  	padding: 16px 0;
  }
  .my_footer_bottom_flex {
  	flex-direction: row;
    justify-content: space-between;
  }
  .my_footer_bottom_item_flex {
  	flex: 0 0 50%;
    max-width: 50%;
  }
</style>

<footer class="footer color-{{ section.settings.color_scheme }} gradient my_footer_bottom_color">
  <div class="footer__content-bottom my_footer_bottom_padding">
    <div class="footer__content-bottom-wrapper page-width">
      <div class="footer__column footer__column--info my_footer_bottom_flex">
        <div class="footer__copyright caption my_footer_bottom_margin_top">
          {%- for block in section.blocks -%}
          <small class="copyright__content my_footer_bottom_item_flex">{{ block.settings.copyrights_text }}</small>
          {%- endfor -%}
        </div>
        <div>
          {%- for block in section.blocks -%}
            {%- assign image = block.settings.trust_image -%}
            {%- if block.settings.source_img == 'Image' and image -%}
              <div class="dib"><img class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{image | img_url:'master'}}" alt="{{image.alt}}"></div>
            {%- elsif block.settings.source_img == 'SVG' and block.settings.svg_list -%}
            {%- assign arr = block.settings.svg_list | remove: ' ' | split: "," -%}
              <style>.bot_footer_svg img {padding: 2.5px;height: {{ block.settings.svg_height }}px;}</style>
              <div class="dib bot_footer_svg my_footer_bottom_item_flex">{%- for img in arr -%}<img class="lazyload" src="https://cdn.shopify.com/s/assets/payment_icons/generic-dfdcaf09b6731ca14dd7441354c0ad8bc934184eb15ae1fda6a6b9e307675485.svg" data-src="{{ img | payment_type_img_url }}" alt="{{img | replace:'_',' '}}" />{%- endfor -%}</div>
            {%- endif -%}
          {%- endfor -%}
        </div>
      </div>
    </div>
  </div>
</footer>

{% javascript %}
  class LocalizationForm extends HTMLElement {
    constructor() {
      super();
      this.elements = {
        input: this.querySelector('input[name="locale_code"], input[name="country_code"]'),
        button: this.querySelector('button'),
        panel: this.querySelector('ul'),
      };
      this.elements.button.addEventListener('click', this.openSelector.bind(this));
      this.elements.button.addEventListener('focusout', this.closeSelector.bind(this));
      this.addEventListener('keyup', this.onContainerKeyUp.bind(this));

      this.querySelectorAll('a').forEach(item => item.addEventListener('click', this.onItemClick.bind(this)));
    }

    hidePanel() {
      this.elements.button.setAttribute('aria-expanded', 'false');
      this.elements.panel.setAttribute('hidden', true);
    }

    onContainerKeyUp(event) {
      if (event.code.toUpperCase() !== 'ESCAPE') return;

      this.hidePanel();
      this.elements.button.focus();
    }

    onItemClick(event) {
      event.preventDefault();
      const form = this.querySelector('form');
      this.elements.input.value = event.currentTarget.dataset.value;
      if (form) form.submit();
    }

    openSelector() {
      this.elements.button.focus();
      this.elements.panel.toggleAttribute('hidden');
      this.elements.button.setAttribute('aria-expanded', (this.elements.button.getAttribute('aria-expanded') === 'false').toString());
    }

    closeSelector(event) {
      const shouldClose = event.relatedTarget && event.relatedTarget.nodeName === 'BUTTON';
      if (event.relatedTarget === null || shouldClose) {
        this.hidePanel();
      }
    }
  }

  customElements.define('localization-form', LocalizationForm);
{% endjavascript %}

{% schema %}
{
  "name": "Footer Bottom",
  "max_blocks": 2,
  "blocks": [
    {
      "type": "copyright",
      "name": "Copyrights",
      "settings": [
        {
          "type": "html",
          "id": "copyrights_text",
          "default": "Â© 2021, giraffly2 Powered by Shopify <a>test</a>",
          "label": "Copyrights"
        }
      ]
    },
	{
      "type": "payment",
      "name": "Payment",
      "settings": [
		{
          "type": "select",
          "id": "source_img",
          "options": [
			{
              "value": "Image",
              "label": "Image"
            },
            {
              "value": "SVG",
              "label": "SVG"
            }
          ],
          "default": "Image",
          "label": "Source IMG"
        },
        {
          "type": "header",
          "content": "image"
        },
        {
          "type": "image_picker",
          "id": "trust_image",
          "label": "Trust image"
        },
		{
          "type": "range",
          "id": "svg_height",
          "label": "Height",
          "default": 40,
          "min": 20,
          "max": 60,
          "step": 1
		},
        {
          "type": "header",
          "content": "svg"
        },
        {
          "type": "textarea",
          "id": "svg_list",
          "label": "SVG list",
		  "default": "amazon_payments,american_express,apple_pay,bitcoin,dankort,diners_club,discover,dogecoin,dwolla,forbrugsforeningen,interac,google_pay,jcb,klarna,klarna-pay-later,litecoin,maestro,master,paypal,shopify_pay,sofort,visa",
		  "info": "amazon_payments,american_express,apple_pay,bitcoin,dankort,diners_club,discover,dogecoin,dwolla,forbrugsforeningen,interac,google_pay,jcb,klarna,klarna-pay-later,litecoin,maestro,master,paypal,shopify_pay,sofort,visa"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "select",
      "id": "copyrights_layouts",
      "options": [
        {
          "value": "Centered",
          "label": "Centered"
        },
        {
          "value": "Two columns",
          "label": "Two columns"
        }
      ],
      "default": "Two columns",
      "label": "Copyrights layouts"
    },
	{
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#FFFFFF"
    },
	{
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#797979"
    },
	{
      "type": "color",
      "id": "link_color",
      "label": "Link",
      "default": "#797979"
    },
	{
      "type": "color",
      "id": "link_hover_color",
      "label": "Hover Link",
      "default": "#F2F2F2"
    }
  ]
}
{% endschema %}
